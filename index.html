<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SWITZELINT – BIM Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1f2933">

<style>
body { margin:0; font-family:Arial; background:#f3f4f6 }
.hidden { display:none }
.center { height:100vh; display:flex; align-items:center; justify-content:center }
.card { background:#fff; padding:20px; width:340px; border-radius:6px }
input, select, button { width:100%; padding:8px; margin:6px 0 }
.app { display:flex; height:100vh }
.sidebar { width:240px; background:#1f2933; color:#fff; padding:20px }
.sidebar button { margin-top:6px }
.main { flex:1; padding:20px; overflow:auto }
.badge { background:#2563eb; color:#fff; padding:4px 8px; border-radius:4px }
.export { background:#16a34a; color:#fff }
.log { font-size:12px; color:#555 }
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login" class="center">
  <div class="card">
    <h2>SWITZELINT</h2>
    <input id="username" placeholder="Your name">
    <select id="role">
      <option>Admin</option>
      <option>Staff</option>
      <option>Client</option>
    </select>
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="app hidden">
  <div class="sidebar">
    <h3>SWITZELINT</h3>
    <p id="userName"></p>
    <p class="badge" id="roleBadge"></p>

    <button onclick="show('tasks')">Tasks</button>
    <button onclick="show('projects')">Projects</button>
    <button onclick="show('teams')">Teams</button>
    <button onclick="show('logs')">Logs</button>

    <button class="export" onclick="exportExcel()">⬇ Export Excel</button>
    <button onclick="logout()">Logout</button>
  </div>

  <div class="main">

    <div id="tasksView">
      <h2>Tasks</h2>
      <input id="taskInput" placeholder="New task">
      <button onclick="addTask()">Add Task</button>
      <ul id="taskList"></ul>
    </div>

    <div id="projectsView" class="hidden">
      <h2>Projects</h2>
      <input id="projectInput" placeholder="New project">
      <button onclick="addProject()">Add Project</button>
      <ul id="projectList"></ul>
    </div>

    <div id="teamsView" class="hidden">
      <h2>Teams</h2>
      <input id="teamInput" placeholder="New team">
      <button onclick="addTeam()">Add Team</button>
      <ul id="teamList"></ul>
    </div>

    <div id="logsView" class="hidden">
      <h2>Activity Log</h2>
      <ul id="logList"></ul>
    </div>

  </div>
</div>

<script type="module">
/* =====================
   STATE
===================== */
let currentUser=null;
let currentRole="Staff";
const
